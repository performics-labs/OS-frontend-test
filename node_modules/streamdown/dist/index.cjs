"use strict";"use client";var wt=Object.create;var G=Object.defineProperty;var yt=Object.getOwnPropertyDescriptor;var kt=Object.getOwnPropertyNames;var vt=Object.getPrototypeOf,Tt=Object.prototype.hasOwnProperty;var Ct=(e,t)=>{for(var o in t)G(e,o,{get:t[o],enumerable:!0})},fe=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of kt(t))!Tt.call(e,s)&&s!==o&&G(e,s,{get:()=>t[s],enumerable:!(n=yt(t,s))||n.enumerable});return e};var B=(e,t,o)=>(o=e!=null?wt(vt(e)):{},fe(t||!e||!e.__esModule?G(o,"default",{value:e,enumerable:!0}):o,e)),Mt=e=>fe(G({},"__esModule",{value:!0}),e);var fo={};Ct(fo,{Block:()=>ge,ControlsContext:()=>X,MermaidConfigContext:()=>ee,ShikiThemeContext:()=>Q,Streamdown:()=>ut,StreamdownRuntimeContext:()=>H,defaultRehypePlugins:()=>dt,defaultRemarkPlugins:()=>mt,defaultUrlTransform:()=>pt.defaultUrlTransform,parseIncompleteMarkdown:()=>ne,parseMarkdownIntoBlocks:()=>te});module.exports=Mt(fo);var M=require("react"),nt=B(require("react-markdown"),1),rt=require("rehype-harden"),re=B(require("rehype-katex"),1),st=B(require("rehype-raw"),1),it=B(require("remark-cjk-friendly"),1),at=B(require("remark-cjk-friendly-gfm-strikethrough"),1),lt=B(require("remark-gfm"),1),ct=B(require("remark-math"),1);var g=require("react");var q=require("lucide-react"),b=require("react"),W=require("shiki"),ke=require("shiki/engine/javascript");var be=require("clsx"),we=require("tailwind-merge"),p=(...e)=>(0,we.twMerge)((0,be.clsx)(e)),E=(e,t,o)=>{let n=typeof t=="string"?new Blob([t],{type:o}):t,s=URL.createObjectURL(n),r=document.createElement("a");r.href=s,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)};var P=require("react/jsx-runtime"),ae=(0,b.createContext)({code:""});function Pt(e,t=200,o=50){let[n,s]=(0,b.useState)(e),r=(0,b.useRef)(0),i=(0,b.useRef)(null);return(0,b.useEffect)(()=>{let a=Date.now(),l=a-r.current;return i.current&&window.clearTimeout(i.current),l>=t?(s(e),r.current=a):i.current=window.setTimeout(()=>{s(e),r.current=Date.now()},o),()=>{i.current&&window.clearTimeout(i.current)}},[e,t,o]),n}var Nt=e=>e<50?{minHighlightInterval:100,debounceMs:500}:e<150?{minHighlightInterval:500,debounceMs:800}:e<300?{minHighlightInterval:1500,debounceMs:1200}:{minHighlightInterval:Number.POSITIVE_INFINITY,debounceMs:1500},It=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),St=e=>{let t=e.lastIndexOf(`
`),o=t>=0?e.slice(0,t+1):"",n=t>=0?e.slice(t+1):e;return[o,n]},Lt=e=>e?[{pre(o){return this.addClassToHast(o,e),o}}]:[],ie=class{constructor(){this.lightHighlighter=null;this.darkHighlighter=null;this.lightTheme=null;this.darkTheme=null;this.loadedLanguages=new Set;this.initializationPromise=null;this.loadLanguagePromise=null;this.cache=new Map;this.cacheKeys=[];this.MAX_CACHE_SIZE=50;this.highlightQueue=new Map}isLanguageSupported(t){return Object.hasOwn(W.bundledLanguages,t)}getFallbackLanguage(){return"text"}getCacheKey(t,o,n){return`${o}::${n||""}::${t}`}addToCache(t,o){if(this.cache.size>=this.MAX_CACHE_SIZE){let n=this.cacheKeys.shift();n&&this.cache.delete(n)}this.cache.set(t,o),this.cacheKeys.push(t)}needsHighlightersInitialization(t){let[o,n]=t,s=!this.lightHighlighter||this.lightTheme!==o,r=!this.darkHighlighter||this.darkTheme!==n;return[s,r]}async ensureHighlightersInitialized(t,o){let[n,s]=o,[r,i]=t,a=(0,ke.createJavaScriptRegexEngine)({forgiving:!0});this.loadedLanguages.clear(),this.cache.clear(),this.cacheKeys=[],this.highlightQueue.clear(),n&&(this.lightHighlighter=await(0,W.createHighlighter)({themes:[r],langs:[],engine:a}),this.lightTheme=r),s&&(this.darkHighlighter=await(0,W.createHighlighter)({themes:[i],langs:[],engine:a}),this.darkTheme=i)}async loadLanguage(t){var o,n;await((o=this.darkHighlighter)==null?void 0:o.loadLanguage(t)),await((n=this.lightHighlighter)==null?void 0:n.loadLanguage(t)),this.loadedLanguages.add(t)}async initializeHighlighters(t){this.initializationPromise&&await this.initializationPromise;let o=this.needsHighlightersInitialization(t),[n,s]=o;(n||s)&&(this.initializationPromise=this.ensureHighlightersInitialized(t,o),await this.initializationPromise,this.initializationPromise=null)}performHighlights(t,o,n){let s=this.isLanguageSupported(o)?o:this.getFallbackLanguage();if(this.lightHighlighter===null||this.darkHighlighter===null||this.lightTheme===null||this.darkTheme===null)throw new Error("highlightCode must be called after initializeHighlighters.");let r=Lt(n),i=this.lightHighlighter.codeToHtml(t,{lang:s,theme:this.lightTheme,transformers:r}),a=this.darkHighlighter.codeToHtml(t,{lang:s,theme:this.darkTheme,transformers:r});return[i,a]}async highlightCode(t,o,n,s){let r=this.getCacheKey(t,o,n),i=this.cache.get(r);if(i)return this.cacheKeys=this.cacheKeys.filter(d=>d!==r),this.cacheKeys.push(r),i;let a=this.highlightQueue.get(r);if(a)return a;let l=()=>{if(s!=null&&s.aborted)throw new DOMException("Aborted","AbortError")},c=(async()=>{try{await new Promise(w=>setTimeout(w,0)),l(),this.initializationPromise&&await this.initializationPromise,l(),this.loadLanguagePromise&&await this.loadLanguagePromise,l(),!this.loadedLanguages.has(o)&&this.isLanguageSupported(o)&&(this.loadLanguagePromise=this.loadLanguage(o),await this.loadLanguagePromise,this.loadLanguagePromise=null),l();let h=this.performHighlights(t,o,n);return this.addToCache(r,h),h}finally{this.highlightQueue.delete(r)}})();return this.highlightQueue.set(r,c),c}},se=new ie,ve=({code:e,language:t,className:o,children:n,preClassName:s,...r})=>{let[i,a]=(0,b.useState)(""),[l,c]=(0,b.useState)(""),[d,h]=(0,b.useState)(""),[w,f]=(0,b.useState)(""),u=Pt(e),T=(0,b.useRef)(0),k=(0,b.useRef)(!1),y=(0,b.useRef)(null),L=(0,b.useRef)(0),[z,J]=(0,b.useContext)(Q);(0,b.useEffect)(()=>{se.initializeHighlighters([z,J])},[z,J]),(0,b.useEffect)(()=>{k.current=!0,y.current&&y.current.abort(),y.current=new AbortController;let _=y.current.signal;T.current&&clearTimeout(T.current);let[K,U]=St(u),gt=u.split(`
`).length,{minHighlightInterval:ht,debounceMs:ft}=Nt(gt);if(K&&K!==d){let x=Date.now();x-L.current>ht||!U?(L.current=x,se.highlightCode(K,t,s,_).then(([V,bt])=>{k.current&&!_.aborted&&(0,b.startTransition)(()=>{a(V),c(bt),h(K),f(U)})}).catch(V=>{if(V.name!=="AbortError")throw V})):f(U)}else f(U);return T.current=window.setTimeout(()=>{U&&u!==d&&!_.aborted&&se.highlightCode(u,t,s,_).then(([x,he])=>{k.current&&!_.aborted&&(0,b.startTransition)(()=>{a(x),c(he),h(u),f("")})}).catch(x=>{if(x.name!=="AbortError")throw x})},ft),()=>{var x;k.current=!1,(x=y.current)==null||x.abort()}},[u,t,s]);let D=w?`<span class="line"><span>${It(w)}</span></span>`:"";return(0,P.jsx)(ae.Provider,{value:{code:e},children:(0,P.jsxs)("div",{className:"my-4 w-full overflow-hidden rounded-xl border border-border","data-code-block-container":!0,"data-language":t,children:[(0,P.jsxs)("div",{className:"flex items-center justify-between bg-muted/80 p-3 text-muted-foreground text-xs","data-code-block-header":!0,"data-language":t,children:[(0,P.jsx)("span",{className:"ml-1 font-mono lowercase",children:t}),(0,P.jsx)("div",{className:"flex items-center gap-2",children:n})]}),(0,P.jsx)("div",{className:"w-full",children:(0,P.jsxs)("div",{className:"min-w-full",children:[(0,P.jsx)("div",{className:p("overflow-x-auto dark:hidden",o),dangerouslySetInnerHTML:{__html:D?i+D:i},"data-code-block":!0,"data-language":t,...r}),(0,P.jsx)("div",{className:p("hidden overflow-x-auto dark:block",o),dangerouslySetInnerHTML:{__html:D?l+D:l},"data-code-block":!0,"data-language":t,...r})]})})]})})},ye={"1c":"1c","1c-query":"1cq",abap:"abap","actionscript-3":"as",ada:"ada",adoc:"adoc","angular-html":"html","angular-ts":"ts",apache:"conf",apex:"cls",apl:"apl",applescript:"applescript",ara:"ara",asciidoc:"adoc",asm:"asm",astro:"astro",awk:"awk",ballerina:"bal",bash:"sh",bat:"bat",batch:"bat",be:"be",beancount:"beancount",berry:"berry",bibtex:"bib",bicep:"bicep",blade:"blade.php",bsl:"bsl",c:"c","c#":"cs","c++":"cpp",cadence:"cdc",cairo:"cairo",cdc:"cdc",clarity:"clar",clj:"clj",clojure:"clj","closure-templates":"soy",cmake:"cmake",cmd:"cmd",cobol:"cob",codeowners:"CODEOWNERS",codeql:"ql",coffee:"coffee",coffeescript:"coffee","common-lisp":"lisp",console:"sh",coq:"v",cpp:"cpp",cql:"cql",crystal:"cr",cs:"cs",csharp:"cs",css:"css",csv:"csv",cue:"cue",cypher:"cql",d:"d",dart:"dart",dax:"dax",desktop:"desktop",diff:"diff",docker:"dockerfile",dockerfile:"dockerfile",dotenv:"env","dream-maker":"dm",edge:"edge",elisp:"el",elixir:"ex",elm:"elm","emacs-lisp":"el",erb:"erb",erl:"erl",erlang:"erl",f:"f","f#":"fs",f03:"f03",f08:"f08",f18:"f18",f77:"f77",f90:"f90",f95:"f95",fennel:"fnl",fish:"fish",fluent:"ftl",for:"for","fortran-fixed-form":"f","fortran-free-form":"f90",fs:"fs",fsharp:"fs",fsl:"fsl",ftl:"ftl",gdresource:"tres",gdscript:"gd",gdshader:"gdshader",genie:"gs",gherkin:"feature","git-commit":"gitcommit","git-rebase":"gitrebase",gjs:"js",gleam:"gleam","glimmer-js":"js","glimmer-ts":"ts",glsl:"glsl",gnuplot:"plt",go:"go",gql:"gql",graphql:"graphql",groovy:"groovy",gts:"gts",hack:"hack",haml:"haml",handlebars:"hbs",haskell:"hs",haxe:"hx",hbs:"hbs",hcl:"hcl",hjson:"hjson",hlsl:"hlsl",hs:"hs",html:"html","html-derivative":"html",http:"http",hxml:"hxml",hy:"hy",imba:"imba",ini:"ini",jade:"jade",java:"java",javascript:"js",jinja:"jinja",jison:"jison",jl:"jl",js:"js",json:"json",json5:"json5",jsonc:"jsonc",jsonl:"jsonl",jsonnet:"jsonnet",jssm:"jssm",jsx:"jsx",julia:"jl",kotlin:"kt",kql:"kql",kt:"kt",kts:"kts",kusto:"kql",latex:"tex",lean:"lean",lean4:"lean",less:"less",liquid:"liquid",lisp:"lisp",lit:"lit",llvm:"ll",log:"log",logo:"logo",lua:"lua",luau:"luau",make:"mak",makefile:"mak",markdown:"md",marko:"marko",matlab:"m",md:"md",mdc:"mdc",mdx:"mdx",mediawiki:"wiki",mermaid:"mmd",mips:"s",mipsasm:"s",mmd:"mmd",mojo:"mojo",move:"move",nar:"nar",narrat:"narrat",nextflow:"nf",nf:"nf",nginx:"conf",nim:"nim",nix:"nix",nu:"nu",nushell:"nu",objc:"m","objective-c":"m","objective-cpp":"mm",ocaml:"ml",pascal:"pas",perl:"pl",perl6:"p6",php:"php",plsql:"pls",po:"po",polar:"polar",postcss:"pcss",pot:"pot",potx:"potx",powerquery:"pq",powershell:"ps1",prisma:"prisma",prolog:"pl",properties:"properties",proto:"proto",protobuf:"proto",ps:"ps",ps1:"ps1",pug:"pug",puppet:"pp",purescript:"purs",py:"py",python:"py",ql:"ql",qml:"qml",qmldir:"qmldir",qss:"qss",r:"r",racket:"rkt",raku:"raku",razor:"cshtml",rb:"rb",reg:"reg",regex:"regex",regexp:"regexp",rel:"rel",riscv:"s",rs:"rs",rst:"rst",ruby:"rb",rust:"rs",sas:"sas",sass:"sass",scala:"scala",scheme:"scm",scss:"scss",sdbl:"sdbl",sh:"sh",shader:"shader",shaderlab:"shader",shell:"sh",shellscript:"sh",shellsession:"sh",smalltalk:"st",solidity:"sol",soy:"soy",sparql:"rq",spl:"spl",splunk:"spl",sql:"sql","ssh-config":"config",stata:"do",styl:"styl",stylus:"styl",svelte:"svelte",swift:"swift","system-verilog":"sv",systemd:"service",talon:"talon",talonscript:"talon",tasl:"tasl",tcl:"tcl",templ:"templ",terraform:"tf",tex:"tex",tf:"tf",tfvars:"tfvars",toml:"toml",ts:"ts","ts-tags":"ts",tsp:"tsp",tsv:"tsv",tsx:"tsx",turtle:"ttl",twig:"twig",typ:"typ",typescript:"ts",typespec:"tsp",typst:"typ",v:"v",vala:"vala",vb:"vb",verilog:"v",vhdl:"vhdl",vim:"vim",viml:"vim",vimscript:"vim",vue:"vue","vue-html":"html","vue-vine":"vine",vy:"vy",vyper:"vy",wasm:"wasm",wenyan:"wy",wgsl:"wgsl",wiki:"wiki",wikitext:"wiki",wit:"wit",wl:"wl",wolfram:"wl",xml:"xml",xsl:"xsl",yaml:"yaml",yml:"yml",zenscript:"zs",zig:"zig",zsh:"zsh",\u6587\u8A00:"wy"},le=({onDownload:e,onError:t,language:o,children:n,className:s,code:r,...i})=>{let{code:a}=(0,b.useContext)(ae),{isAnimating:l}=(0,b.useContext)(H),c=r!=null?r:a,h=`file.${o&&o in ye?ye[o]:"txt"}`,w="text/plain",f=()=>{try{E(h,c,w),e==null||e()}catch(u){t==null||t(u)}};return(0,P.jsx)("button",{className:p("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",s),disabled:l,onClick:f,title:"Download file",type:"button",...i,children:n!=null?n:(0,P.jsx)(q.DownloadIcon,{size:14})})},ce=({onCopy:e,onError:t,timeout:o=2e3,children:n,className:s,code:r,...i})=>{let[a,l]=(0,b.useState)(!1),c=(0,b.useRef)(0),{code:d}=(0,b.useContext)(ae),{isAnimating:h}=(0,b.useContext)(H),w=r!=null?r:d,f=async()=>{var T;if(typeof window=="undefined"||!((T=navigator==null?void 0:navigator.clipboard)!=null&&T.writeText)){t==null||t(new Error("Clipboard API not available"));return}try{a||(await navigator.clipboard.writeText(w),l(!0),e==null||e(),c.current=window.setTimeout(()=>l(!1),o))}catch(k){t==null||t(k)}};(0,b.useEffect)(()=>()=>{window.clearTimeout(c.current)},[]);let u=a?q.CheckIcon:q.CopyIcon;return(0,P.jsx)("button",{className:p("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",s),disabled:h,onClick:f,type:"button",...i,children:n!=null?n:(0,P.jsx)(u,{size:14})})};var Te=require("lucide-react");var j=require("react/jsx-runtime"),xt=/\.[^/.]+$/,Ce=({node:e,className:t,src:o,alt:n,...s})=>{let r=async()=>{if(o)try{let a=await(await fetch(o)).blob(),c=new URL(o,window.location.origin).pathname.split("/").pop()||"",d=c.split(".").pop(),h=c.includes(".")&&d!==void 0&&d.length<=4,w="";if(h)w=c;else{let f=a.type,u="png";f.includes("jpeg")||f.includes("jpg")?u="jpg":f.includes("png")?u="png":f.includes("svg")?u="svg":f.includes("gif")?u="gif":f.includes("webp")&&(u="webp"),w=`${(n||c||"image").replace(xt,"")}.${u}`}E(w,a,a.type)}catch(i){console.error("Failed to download image:",i)}};return o?(0,j.jsxs)("div",{className:"group relative my-4 inline-block","data-streamdown":"image-wrapper",children:[(0,j.jsx)("img",{alt:n,className:p("max-w-full rounded-lg",t),"data-streamdown":"image",src:o,...s}),(0,j.jsx)("div",{className:"pointer-events-none absolute inset-0 hidden rounded-lg bg-black/10 group-hover:block"}),(0,j.jsx)("button",{className:p("absolute right-2 bottom-2 flex h-8 w-8 cursor-pointer items-center justify-center rounded-md border border-border bg-background/90 shadow-sm backdrop-blur-sm transition-all duration-200 hover:bg-background","opacity-0 group-hover:opacity-100"),onClick:r,title:"Download image",type:"button",children:(0,j.jsx)(Te.DownloadIcon,{size:14})})]}):null};var Z=require("lucide-react"),S=require("react");var v=require("react/jsx-runtime"),F=0,Ht=()=>{F+=1,F===1&&(document.body.style.overflow="hidden")},Bt=()=>{F=Math.max(0,F-1),F===0&&(document.body.style.overflow="")},At=async e=>{let o={...{startOnLoad:!1,theme:"default",securityLevel:"strict",fontFamily:"monospace",suppressErrorRendering:!0},...e},s=(await import("mermaid")).default;return s.initialize(o),s},Me=({chart:e,config:t,onFullscreen:o,onExit:n,className:s,...r})=>{let[i,a]=(0,S.useState)(!1),{isAnimating:l}=(0,S.useContext)(H),c=()=>{a(!i)};return(0,S.useEffect)(()=>{if(i){Ht();let d=h=>{h.key==="Escape"&&a(!1)};return document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d),Bt()}}},[i]),(0,S.useEffect)(()=>{i?o==null||o():n&&n()},[i,o,n]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("button",{className:p("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",s),disabled:l,onClick:c,title:"View fullscreen",type:"button",...r,children:(0,v.jsx)(Z.Maximize2Icon,{size:14})}),i&&(0,v.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/95 backdrop-blur-sm",onClick:c,onKeyDown:d=>{d.key==="Escape"&&c()},role:"button",tabIndex:0,children:[(0,v.jsx)("button",{className:"absolute top-4 right-4 z-10 rounded-md p-2 text-muted-foreground transition-all hover:bg-muted hover:text-foreground",onClick:c,title:"Exit fullscreen",type:"button",children:(0,v.jsx)(Z.XIcon,{size:20})}),(0,v.jsx)("div",{className:"flex h-full w-full items-center justify-center p-12",onClick:d=>d.stopPropagation(),onKeyDown:d=>d.stopPropagation(),role:"presentation",children:(0,v.jsx)("div",{className:"max-h-full max-w-full",children:(0,v.jsx)(de,{chart:e,className:"[&>div]:my-0 [&_svg]:h-auto [&_svg]:min-h-[60vh] [&_svg]:w-auto [&_svg]:min-w-[60vw]",config:t})})})]})]})},de=({chart:e,className:t,config:o})=>{let[n,s]=(0,S.useState)(null),[r,i]=(0,S.useState)(!0),[a,l]=(0,S.useState)(""),[c,d]=(0,S.useState)("");if((0,S.useEffect)(()=>{(async()=>{try{s(null),i(!0);let f=await At(o),u=e.split("").reduce((y,L)=>(y<<5)-y+L.charCodeAt(0)|0,0),T=`mermaid-${Math.abs(u)}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,{svg:k}=await f.render(T,e);l(k),d(k)}catch(f){if(!(c||a)){let u=f instanceof Error?f.message:"Failed to render Mermaid chart";s(u)}}finally{i(!1)}})()},[e,o]),r&&!a&&!c)return(0,v.jsx)("div",{className:p("my-4 flex justify-center p-4",t),children:(0,v.jsxs)("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[(0,v.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-current border-b-2"}),(0,v.jsx)("span",{className:"text-sm",children:"Loading diagram..."})]})});if(n&&!a&&!c)return(0,v.jsxs)("div",{className:p("rounded-lg border border-red-200 bg-red-50 p-4",t),children:[(0,v.jsxs)("p",{className:"font-mono text-red-700 text-sm",children:["Mermaid Error: ",n]}),(0,v.jsxs)("details",{className:"mt-2",children:[(0,v.jsx)("summary",{className:"cursor-pointer text-red-600 text-xs",children:"Show Code"}),(0,v.jsx)("pre",{className:"mt-2 overflow-x-auto rounded bg-red-100 p-2 text-red-800 text-xs",children:e})]})]});let h=a||c;return(0,v.jsx)("div",{"aria-label":"Mermaid chart",className:p("my-4 flex justify-center",t),dangerouslySetInnerHTML:{__html:h},role:"img"})};var O=require("lucide-react"),I=require("react");var N=require("react/jsx-runtime");function Pe(e){var r,i;let t=[],o=[],n=e.querySelectorAll("thead th");for(let a of n)t.push(((r=a.textContent)==null?void 0:r.trim())||"");let s=e.querySelectorAll("tbody tr");for(let a of s){let l=[],c=a.querySelectorAll("td");for(let d of c)l.push(((i=d.textContent)==null?void 0:i.trim())||"");o.push(l)}return{headers:t,rows:o}}function Ne(e){let{headers:t,rows:o}=e,n=r=>r.includes(",")||r.includes('"')||r.includes(`
`)?`"${r.replace(/"/g,'""')}"`:r,s=[];t.length>0&&s.push(t.map(n).join(","));for(let r of o)s.push(r.map(n).join(","));return s.join(`
`)}function $t(e){let{headers:t,rows:o}=e,n=r=>r.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r"),s=[];t.length>0&&s.push(t.map(n).join("	"));for(let r of o)s.push(r.map(n).join("	"));return s.join(`
`)}function jt(e){let{headers:t,rows:o}=e;if(t.length===0)return"";let n=[],s=t.map(r=>r.replace(/\|/g,"\\|"));n.push(`| ${s.join(" | ")} |`),n.push(`| ${t.map(()=>"---").join(" | ")} |`);for(let r of o){let i=[...r];for(;i.length<t.length;)i.push("");let a=i.map(l=>l.replace(/\|/g,"\\|"));n.push(`| ${a.join(" | ")} |`)}return n.join(`
`)}var Ie=({children:e,className:t,onCopy:o,onError:n,timeout:s=2e3})=>{let[r,i]=(0,I.useState)(!1),[a,l]=(0,I.useState)(!1),c=(0,I.useRef)(null),d=(0,I.useRef)(0),{isAnimating:h}=(0,I.useContext)(H),w=async u=>{var T,k;if(typeof window=="undefined"||!((T=navigator==null?void 0:navigator.clipboard)!=null&&T.write)){n==null||n(new Error("Clipboard API not available"));return}try{let y=(k=c.current)==null?void 0:k.closest('[data-streamdown="table-wrapper"]'),L=y==null?void 0:y.querySelector("table");if(!L){n==null||n(new Error("Table not found"));return}let z=Pe(L),J=u==="csv"?Ne(z):$t(z),D=new ClipboardItem({"text/plain":new Blob([J],{type:"text/plain"}),"text/html":new Blob([L.outerHTML],{type:"text/html"})});await navigator.clipboard.write([D]),l(!0),i(!1),o==null||o(u),d.current=window.setTimeout(()=>l(!1),s)}catch(y){n==null||n(y)}};(0,I.useEffect)(()=>{let u=T=>{c.current&&!c.current.contains(T.target)&&i(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u),window.clearTimeout(d.current)}},[]);let f=a?O.CheckIcon:O.CopyIcon;return(0,N.jsxs)("div",{className:"relative",ref:c,children:[(0,N.jsx)("button",{className:p("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",t),disabled:h,onClick:()=>i(!r),title:"Copy table",type:"button",children:e!=null?e:(0,N.jsx)(f,{size:14})}),r&&(0,N.jsxs)("div",{className:"absolute top-full right-0 z-10 mt-1 min-w-[120px] overflow-hidden rounded-md border border-border bg-background shadow-lg",children:[(0,N.jsx)("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>w("csv"),type:"button",children:"CSV"}),(0,N.jsx)("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>w("tsv"),type:"button",children:"TSV"})]})]})};var Se=({children:e,className:t,onDownload:o,onError:n})=>{let[s,r]=(0,I.useState)(!1),i=(0,I.useRef)(null),{isAnimating:a}=(0,I.useContext)(H),l=c=>{var d;try{let h=(d=i.current)==null?void 0:d.closest('[data-streamdown="table-wrapper"]'),w=h==null?void 0:h.querySelector("table");if(!w){n==null||n(new Error("Table not found"));return}let f=Pe(w),u=c==="csv"?Ne(f):jt(f);E(`table.${c==="csv"?"csv":"md"}`,u,c==="csv"?"text/csv":"text/markdown"),r(!1),o==null||o(c)}catch(h){n==null||n(h)}};return(0,I.useEffect)(()=>{let c=d=>{i.current&&!i.current.contains(d.target)&&r(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]),(0,N.jsxs)("div",{className:"relative",ref:i,children:[(0,N.jsx)("button",{className:p("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",t),disabled:a,onClick:()=>r(!s),title:"Download table",type:"button",children:e!=null?e:(0,N.jsx)(O.DownloadIcon,{size:14})}),s&&(0,N.jsxs)("div",{className:"absolute top-full right-0 z-10 mt-1 min-w-[120px] overflow-hidden rounded-md border border-border bg-background shadow-lg",children:[(0,N.jsx)("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>l("csv"),type:"button",children:"CSV"}),(0,N.jsx)("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>l("markdown"),type:"button",children:"Markdown"})]})]})};var m=require("react/jsx-runtime"),Rt=/language-([^\s]+)/;function Y(e,t){if(!(e!=null&&e.position||t!=null&&t.position))return!0;if(!(e!=null&&e.position&&(t!=null&&t.position)))return!1;let o=e.position.start,n=t.position.start,s=e.position.end,r=t.position.end;return(o==null?void 0:o.line)===(n==null?void 0:n.line)&&(o==null?void 0:o.column)===(n==null?void 0:n.column)&&(s==null?void 0:s.line)===(r==null?void 0:r.line)&&(s==null?void 0:s.column)===(r==null?void 0:r.column)}function C(e,t){return e.className===t.className&&Y(e.node,t.node)}var ue=(e,t)=>typeof e=="boolean"?e:e[t]!==!1,me=(e,t)=>{if(typeof e=="boolean")return e;let o=e.mermaid;return o===!1?!1:o===!0||o===void 0?!0:o[t]!==!1},pe=(0,g.memo)(({children:e,className:t,node:o,...n})=>(0,m.jsx)("ol",{className:p("ml-4 list-outside list-decimal whitespace-normal",t),"data-streamdown":"ordered-list",...n,children:e}),(e,t)=>C(e,t));pe.displayName="MarkdownOl";var Le=(0,g.memo)(({children:e,className:t,node:o,...n})=>(0,m.jsx)("li",{className:p("py-1",t),"data-streamdown":"list-item",...n,children:e}),(e,t)=>e.className===t.className&&Y(e.node,t.node));Le.displayName="MarkdownLi";var xe=(0,g.memo)(({children:e,className:t,node:o,...n})=>(0,m.jsx)("ul",{className:p("ml-4 list-outside list-disc whitespace-normal",t),"data-streamdown":"unordered-list",...n,children:e}),(e,t)=>C(e,t));xe.displayName="MarkdownUl";var He=(0,g.memo)(({className:e,node:t,...o})=>(0,m.jsx)("hr",{className:p("my-6 border-border",e),"data-streamdown":"horizontal-rule",...o}),(e,t)=>C(e,t));He.displayName="MarkdownHr";var Be=(0,g.memo)(({children:e,className:t,node:o,...n})=>(0,m.jsx)("span",{className:p("font-semibold",t),"data-streamdown":"strong",...n,children:e}),(e,t)=>C(e,t));Be.displayName="MarkdownStrong";var Ae=(0,g.memo)(({children:e,className:t,href:o,node:n,...s})=>{let r=o==="streamdown:incomplete-link";return(0,m.jsx)("a",{className:p("wrap-anywhere font-medium text-primary underline",t),"data-incomplete":r,"data-streamdown":"link",href:o,rel:"noreferrer",target:"_blank",...s,children:e})},(e,t)=>C(e,t)&&e.href===t.href);Ae.displayName="MarkdownA";var $e=(0,g.memo)(({children:e,className:t,node:o,...n})=>(0,m.jsx)("h1",{className:p("mt-6 mb-2 font-semibold text-3xl",t),"data-streamdown":"heading-1",...n,children:e}),(e,t)=>C(e,t));$e.displayName="MarkdownH1";var je=(0,g.memo)(({children:e,className:t,node:o,...n})=>(0,m.jsx)("h2",{className:p("mt-6 mb-2 font-semibold text-2xl",t),"data-streamdown":"heading-2",...n,children:e}),(e,t)=>C(e,t));je.displayName="MarkdownH2";var Re=(0,g.memo)(({children:e,className:t,node:o,...n})=>(0,m.jsx)("h3",{className:p("mt-6 mb-2 font-semibold text-xl",t),"data-streamdown":"heading-3",...n,children:e}),(e,t)=>C(e,t));Re.displayName="MarkdownH3";var De=(0,g.memo)(({children:e,className:t,node:o,...n})=>(0,m.jsx)("h4",{className:p("mt-6 mb-2 font-semibold text-lg",t),"data-streamdown":"heading-4",...n,children:e}),(e,t)=>C(e,t));De.displayName="MarkdownH4";var Ee=(0,g.memo)(({children:e,className:t,node:o,...n})=>(0,m.jsx)("h5",{className:p("mt-6 mb-2 font-semibold text-base",t),"data-streamdown":"heading-5",...n,children:e}),(e,t)=>C(e,t));Ee.displayName="MarkdownH5";var qe=(0,g.memo)(({children:e,className:t,node:o,...n})=>(0,m.jsx)("h6",{className:p("mt-6 mb-2 font-semibold text-sm",t),"data-streamdown":"heading-6",...n,children:e}),(e,t)=>C(e,t));qe.displayName="MarkdownH6";var Oe=(0,g.memo)(({children:e,className:t,node:o,...n})=>{let s=(0,g.useContext)(X),r=ue(s,"table");return(0,m.jsxs)("div",{className:"my-4 flex flex-col space-y-2","data-streamdown":"table-wrapper",children:[r&&(0,m.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,m.jsx)(Ie,{}),(0,m.jsx)(Se,{})]}),(0,m.jsx)("div",{className:"overflow-x-auto",children:(0,m.jsx)("table",{className:p("w-full border-collapse border border-border",t),"data-streamdown":"table",...n,children:e})})]})},(e,t)=>C(e,t));Oe.displayName="MarkdownTable";var ze=(0,g.memo)(({children:e,className:t,node:o,...n})=>(0,m.jsx)("thead",{className:p("bg-muted/80",t),"data-streamdown":"table-header",...n,children:e}),(e,t)=>C(e,t));ze.displayName="MarkdownThead";var _e=(0,g.memo)(({children:e,className:t,node:o,...n})=>(0,m.jsx)("tbody",{className:p("divide-y divide-border bg-muted/40",t),"data-streamdown":"table-body",...n,children:e}),(e,t)=>C(e,t));_e.displayName="MarkdownTbody";var Ue=(0,g.memo)(({children:e,className:t,node:o,...n})=>(0,m.jsx)("tr",{className:p("border-border border-b",t),"data-streamdown":"table-row",...n,children:e}),(e,t)=>C(e,t));Ue.displayName="MarkdownTr";var We=(0,g.memo)(({children:e,className:t,node:o,...n})=>(0,m.jsx)("th",{className:p("whitespace-nowrap px-4 py-2 text-left font-semibold text-sm",t),"data-streamdown":"table-header-cell",...n,children:e}),(e,t)=>C(e,t));We.displayName="MarkdownTh";var Fe=(0,g.memo)(({children:e,className:t,node:o,...n})=>(0,m.jsx)("td",{className:p("px-4 py-2 text-sm",t),"data-streamdown":"table-cell",...n,children:e}),(e,t)=>C(e,t));Fe.displayName="MarkdownTd";var Xe=(0,g.memo)(({children:e,className:t,node:o,...n})=>(0,m.jsx)("blockquote",{className:p("my-4 border-muted-foreground/30 border-l-4 pl-4 text-muted-foreground italic",t),"data-streamdown":"blockquote",...n,children:e}),(e,t)=>C(e,t));Xe.displayName="MarkdownBlockquote";var Je=(0,g.memo)(({children:e,className:t,node:o,...n})=>(0,m.jsx)("sup",{className:p("text-sm",t),"data-streamdown":"superscript",...n,children:e}),(e,t)=>C(e,t));Je.displayName="MarkdownSup";var Ke=(0,g.memo)(({children:e,className:t,node:o,...n})=>(0,m.jsx)("sub",{className:p("text-sm",t),"data-streamdown":"subscript",...n,children:e}),(e,t)=>C(e,t));Ke.displayName="MarkdownSub";var Ve=(0,g.memo)(({children:e,className:t,node:o,...n})=>{if("data-footnotes"in n){let r=l=>{var w,f;if(!(0,g.isValidElement)(l))return!1;let c=Array.isArray(l.props.children)?l.props.children:[l.props.children],d=!1,h=!1;for(let u of c)if(u){if(typeof u=="string")u.trim()!==""&&(d=!0);else if((0,g.isValidElement)(u))if(((w=u.props)==null?void 0:w["data-footnote-backref"])!==void 0)h=!0;else{let T=Array.isArray(u.props.children)?u.props.children:[u.props.children];for(let k of T){if(typeof k=="string"&&k.trim()!==""){d=!0;break}if((0,g.isValidElement)(k)&&((f=k.props)==null?void 0:f["data-footnote-backref"])===void 0){d=!0;break}}}}return h&&!d},i=Array.isArray(e)?e.map(l=>{if(!(0,g.isValidElement)(l))return l;if(l.type===pe){let d=(Array.isArray(l.props.children)?l.props.children:[l.props.children]).filter(h=>!r(h));return d.length===0?null:{...l,props:{...l.props,children:d}}}return l}):e;return(Array.isArray(i)?i.some(l=>l!==null):i!==null)?(0,m.jsx)("section",{className:t,...n,children:i}):null}return(0,m.jsx)("section",{className:t,...n,children:e})},(e,t)=>C(e,t));Ve.displayName="MarkdownSection";var Dt=({node:e,className:t,children:o,...n})=>{var h,w,f;let s=((h=e==null?void 0:e.position)==null?void 0:h.start.line)===((w=e==null?void 0:e.position)==null?void 0:w.end.line),r=(0,g.useContext)(ee),i=(0,g.useContext)(X);if(s)return(0,m.jsx)("code",{className:p("rounded bg-muted px-1.5 py-0.5 font-mono text-sm",t),"data-streamdown":"inline-code",...n,children:o});let a=t==null?void 0:t.match(Rt),l=(f=a==null?void 0:a.at(1))!=null?f:"",c="";if((0,g.isValidElement)(o)&&o.props&&typeof o.props=="object"&&"children"in o.props&&typeof o.props.children=="string"?c=o.props.children:typeof o=="string"&&(c=o),l==="mermaid"){let u=ue(i,"mermaid"),T=me(i,"download"),k=me(i,"copy"),y=me(i,"fullscreen");return(0,m.jsxs)("div",{className:p("group relative my-4 h-auto rounded-xl border p-4",t),"data-streamdown":"mermaid-block",children:[u&&(T||k||y)&&(0,m.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[T&&(0,m.jsx)(le,{code:c,language:l}),k&&(0,m.jsx)(ce,{code:c}),y&&(0,m.jsx)(Me,{chart:c,config:r})]}),(0,m.jsx)(de,{chart:c,config:r})]})}let d=ue(i,"code");return(0,m.jsx)(ve,{className:p("overflow-x-auto border-border border-t",t),code:c,"data-language":l,"data-streamdown":"code-block",language:l,preClassName:"overflow-x-auto font-mono text-xs p-4 bg-muted/40",children:d&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(le,{code:c,language:l}),(0,m.jsx)(ce,{})]})})},Ge=(0,g.memo)(Dt,(e,t)=>e.className===t.className&&Y(e.node,t.node));Ge.displayName="MarkdownCode";var Qe=(0,g.memo)(Ce,(e,t)=>e.className===t.className&&Y(e.node,t.node));Qe.displayName="MarkdownImg";var Ze=(0,g.memo)(({children:e,className:t,node:o,...n})=>{var i;let r=(Array.isArray(e)?e:[e]).filter(a=>a!=null&&a!=="");return r.length===1&&(0,g.isValidElement)(r[0])&&((i=r[0].props.node)==null?void 0:i.tagName)==="img"?(0,m.jsx)(m.Fragment,{children:e}):(0,m.jsx)("p",{className:t,...n,children:e})},(e,t)=>C(e,t));Ze.displayName="MarkdownParagraph";var Ye={ol:pe,li:Le,ul:xe,hr:He,strong:Be,a:Ae,h1:$e,h2:je,h3:Re,h4:De,h5:Ee,h6:qe,table:Oe,thead:ze,tbody:_e,tr:Ue,th:We,td:Fe,blockquote:Xe,code:Ge,img:Qe,pre:({children:e})=>e,sup:Je,sub:Ke,p:Ze,section:Ve};var et=require("marked"),Et=/\[\^[^\]\s]{1,200}\](?!:)/,qt=/\[\^[^\]\s]{1,200}\]:/,Ot=/<\/(\w+)>/,zt=/<(\w+)[\s>]/,te=e=>{let t=Et.test(e),o=qt.test(e);if(t||o)return[e];let n=et.Lexer.lex(e,{gfm:!0}),s=[],r=[];for(let i of n){let a=i.raw;if(r.length>0){if(s[s.length-1]+=a,i.type==="html"){let l=a.match(Ot);if(l){let c=l[1];r.at(-1)===c&&r.pop()}}continue}if(i.type==="html"&&i.block){let l=a.match(zt);if(l){let c=l[1];a.includes(`</${c}>`)||r.push(c)}}if(a.trim()==="$$"&&s.length>0){let l=s.at(-1);if(!l){s.push(a);continue}let c=l.trimStart().startsWith("$$"),d=(l.match(/\$\$/g)||[]).length;if(c&&d%2===1){s[s.length-1]=l+a;continue}}if(s.length>0&&a.trimEnd().endsWith("$$")){let l=s.at(-1);if(!l){s.push(a);continue}let c=l.trimStart().startsWith("$$"),d=(l.match(/\$\$/g)||[]).length,h=(a.match(/\$\$/g)||[]).length;if(c&&d%2===1&&!a.trimStart().startsWith("$$")&&h===1){s[s.length-1]=l+a;continue}}s.push(a)}return s};var _t=/(!?\[)([^\]]*?)$/,Ut=/(\*\*)([^*]*?)$/,Wt=/(__)([^_]*?)$/,Ft=/(\*\*\*)([^*]*?)$/,Xt=/(\*)([^*]*?)$/,Jt=/(_)([^_]*?)$/,Kt=/(`)([^`]*?)$/,Vt=/(~~)([^~]*?)$/,Gt=/(!?)\[([^\]]+)\]\(([^)]+)$/,R=/^[\s_~*`]*$/,tt=/^[\s]*[-*+][\s]+$/,A=/[\p{L}\p{N}_]/u,Qt=/\n+$/,Zt=/^```[^`\n]*```?$/,Yt=/^\*{4,}$/,oe=e=>{let t=(e.match(/```/g)||[]).length;return t>0&&t%2===0&&e.includes(`
`)},eo=e=>{let t=e.match(Gt);if(t){let n=t[1]==="!",s=t[2],r=t[3],i=e.lastIndexOf(`${n?"!":""}[${s}](${r}`),a=e.substring(0,i);return n?a:`${a}[${s}](streamdown:incomplete-link)`}let o=e.match(_t);if(o){if(o[1].startsWith("!")){let s=e.lastIndexOf(o[1]);return e.substring(0,s)}return`${e}](streamdown:incomplete-link)`}return e},to=e=>{if(oe(e))return e;let t=e.match(Ut);if(t){let o=t[2];if(!o||R.test(o))return e;let n=e.lastIndexOf(t[1]),r=e.substring(0,n).lastIndexOf(`
`),i=r===-1?0:r+1,a=e.substring(i,n);if(tt.test(a)&&o.includes(`
`))return e;if((e.match(/\*\*/g)||[]).length%2===1)return`${e}**`}return e},oo=e=>{let t=e.match(Wt);if(t){let o=t[2];if(!o||R.test(o))return e;let n=e.lastIndexOf(t[1]),r=e.substring(0,n).lastIndexOf(`
`),i=r===-1?0:r+1,a=e.substring(i,n);if(tt.test(a)&&o.includes(`
`))return e;if((e.match(/__/g)||[]).length%2===1)return`${e}__`}return e},no=e=>e.split("").reduce((t,o,n)=>{if(o==="*"){let s=e[n-1],r=e[n+1];if(s==="\\"||s&&r&&A.test(s)&&A.test(r))return t;let i=n;for(let l=n-1;l>=0;l--){if(e[l]===`
`){i=l+1;break}if(l===0){i=0;break}}if(e.substring(i,n).trim()===""&&(r===" "||r==="	"))return t;if(s!=="*"&&r!=="*")return t+1}return t},0),ro=e=>{if(oe(e))return e;if(e.match(Xt)){let o=-1;for(let r=0;r<e.length;r++)if(e[r]==="*"&&e[r-1]!=="*"&&e[r+1]!=="*"&&e[r-1]!=="\\"){let i=r>0?e[r-1]:"",a=r<e.length-1?e[r+1]:"";if(i&&a&&A.test(i)&&A.test(a))continue;o=r;break}if(o===-1)return e;let n=e.substring(o+1);if(!n||R.test(n))return e;if(no(e)%2===1)return`${e}*`}return e},ot=(e,t)=>{let o=!1,n=!1;for(let s=0;s<e.length&&s<t;s+=1){if(e[s]==="\\"&&e[s+1]==="$"){s+=1;continue}e[s]==="$"&&(e[s+1]==="$"?(n=!n,s+=1,o=!1):n||(o=!o))}return o||n},so=e=>e.split("").reduce((t,o,n)=>{if(o==="_"){let s=e[n-1],r=e[n+1];if(s==="\\"||ot(e,n)||s&&r&&A.test(s)&&A.test(r))return t;if(s!=="_"&&r!=="_")return t+1}return t},0),io=e=>{if(oe(e))return e;if(e.match(Jt)){let o=-1;for(let r=0;r<e.length;r++)if(e[r]==="_"&&e[r-1]!=="_"&&e[r+1]!=="_"&&e[r-1]!=="\\"&&!ot(e,r)){let i=r>0?e[r-1]:"",a=r<e.length-1?e[r+1]:"";if(i&&a&&A.test(i)&&A.test(a))continue;o=r;break}if(o===-1)return e;let n=e.substring(o+1);if(!n||R.test(n))return e;if(so(e)%2===1){let r=e.match(Qt);return r?`${e.slice(0,-r[0].length)}_${r[0]}`:`${e}_`}}return e},ao=(e,t)=>{let o=e.substring(t,t+3)==="```",n=t>0&&e.substring(t-1,t+2)==="```",s=t>1&&e.substring(t-2,t+1)==="```";return o||n||s},lo=e=>{let t=0;for(let o=0;o<e.length;o+=1)e[o]==="`"&&!ao(e,o)&&(t+=1);return t},co=e=>{if(e.match(Zt)&&!e.includes(`
`))return e.endsWith("``")&&!e.endsWith("```")?`${e}\``:e;let o=(e.match(/```/g)||[]).length,n=o%2===1;if(o>0&&o%2===0&&e.includes(`
`)||(e.endsWith("```\n")||e.endsWith("```"))&&o%2===0)return e;let s=e.match(Kt);if(s&&!n){let r=s[2];if(!r||R.test(r))return e;if(lo(e)%2===1)return`${e}\``}return e},mo=e=>{let t=e.match(Vt);if(t){let o=t[2];if(!o||R.test(o))return e;if((e.match(/~~/g)||[]).length%2===1)return`${e}~~`}return e};var uo=e=>{if((e.match(/\$\$/g)||[]).length%2===0)return e;let o=e.indexOf("$$");return o!==-1&&e.indexOf(`
`,o)!==-1&&!e.endsWith(`
`)?`${e}
$$`:`${e}$$`},po=e=>{let t=0,o=e.match(/\*+/g)||[];for(let n of o){let s=n.length;s>=3&&(t+=Math.floor(s/3))}return t},go=e=>{if(oe(e)||Yt.test(e))return e;let t=e.match(Ft);if(t){let o=t[2];if(!o||R.test(o))return e;if(po(e)%2===1)return`${e}***`}return e},ne=e=>{if(!e||typeof e!="string")return e;let t=e,o=eo(t);return o.endsWith("](streamdown:incomplete-link)")?o:(t=o,t=go(t),t=to(t),t=oo(t),t=ro(t),t=io(t),t=co(t),t=mo(t),t=uo(t),t)};var pt=require("react-markdown"),$=require("react/jsx-runtime"),dt={harden:[rt.harden,{allowedImagePrefixes:["*"],allowedLinkPrefixes:["*"],defaultOrigin:void 0,allowDataImages:!0}],raw:st.default,katex:[re.default,{errorColor:"var(--color-muted-foreground)"}]},mt={gfm:[lt.default,{}],math:[ct.default,{singleDollarTextMath:!1}],cjkFriendly:[it.default,{}],cjkFriendlyGfmStrikethrough:[at.default,{}]},Q=(0,M.createContext)(["github-light","github-dark"]),ee=(0,M.createContext)(void 0),X=(0,M.createContext)(!0),H=(0,M.createContext)({isAnimating:!1}),ge=(0,M.memo)(({content:e,shouldParseIncompleteMarkdown:t,...o})=>{let n=(0,M.useMemo)(()=>typeof e=="string"&&t?ne(e.trim()):e,[e,t]);return(0,$.jsx)(nt.default,{...o,children:n})},(e,t)=>e.content===t.content);ge.displayName="Block";var ho=["github-light","github-dark"],ut=(0,M.memo)(({children:e,parseIncompleteMarkdown:t=!0,components:o,rehypePlugins:n=Object.values(dt),remarkPlugins:s=Object.values(mt),className:r,shikiTheme:i=ho,mermaidConfig:a,controls:l=!0,isAnimating:c=!1,urlTransform:d=u=>u,BlockComponent:h=ge,parseMarkdownIntoBlocksFn:w=te,...f})=>{let u=(0,M.useId)(),T=(0,M.useMemo)(()=>w(typeof e=="string"?e:""),[e,w]);(0,M.useEffect)(()=>{Array.isArray(n)&&n.some(y=>Array.isArray(y)?y[0]===re.default:y===re.default)&&import("katex/dist/katex.min.css")},[n]);let k=(0,M.useMemo)(()=>({isAnimating:c}),[c]);return(0,$.jsx)(Q.Provider,{value:i,children:(0,$.jsx)(ee.Provider,{value:a,children:(0,$.jsx)(X.Provider,{value:l,children:(0,$.jsx)(H.Provider,{value:k,children:(0,$.jsx)("div",{className:p("space-y-4",r),children:T.map((y,L)=>(0,$.jsx)(h,{components:{...Ye,...o},content:y,index:L,rehypePlugins:n,remarkPlugins:s,shouldParseIncompleteMarkdown:t,urlTransform:d,...f},`${u}-block-${L}`))})})})})})},(e,t)=>e.children===t.children&&e.shikiTheme===t.shikiTheme&&e.isAnimating===t.isAnimating);ut.displayName="Streamdown";0&&(module.exports={Block,ControlsContext,MermaidConfigContext,ShikiThemeContext,Streamdown,StreamdownRuntimeContext,defaultRehypePlugins,defaultRemarkPlugins,defaultUrlTransform,parseIncompleteMarkdown,parseMarkdownIntoBlocks});
